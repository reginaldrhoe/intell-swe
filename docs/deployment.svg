<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg xmlns="http://www.w3.org/2000/svg" width="800" height="360" viewBox="0 0 800 360">
  <style>
    .box { fill:#ffffff; stroke:#1f6feb; stroke-width:1.6; rx:10; filter: drop-shadow(0 2px 4px rgba(31,111,235,0.12)); }
    .text { font-family: "Segoe UI", Roboto, Arial, sans-serif; font-size:13px; fill:#0b1220 }
    .title { font-weight:700; font-size:14px }
    .sub { font-size:12px; fill:#334155 }
    .arrow { stroke:#6b7280; stroke-width:1.6; fill:none; marker-end:url(#arrowhead) }
  </style>
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#2b6cb0" />
    </marker>
  </defs>

  <!-- Frontend -->
  <rect x="24" y="26" width="170" height="68" class="box" />
  <text x="40" y="50" class="text title">Frontend</text>
  <text x="40" y="70" class="text sub">(React / Vite)</text>

  <!-- mcp -->
  <rect x="240" y="8" width="260" height="110" class="box" />
  <text x="260" y="38" class="text title">MCP (FastAPI)</text>
  <text x="260" y="62" class="text sub">/run-agents • /api • SSE • /metrics</text>

  <!-- Redis -->
  <rect x="540" y="16" width="140" height="72" class="box" />
  <text x="556" y="42" class="text title">Redis</text>
  <text x="556" y="64" class="text sub">locks • pub/sub • broker</text>

  <!-- Qdrant -->
  <rect x="240" y="140" width="170" height="72" class="box" />
  <text x="256" y="166" class="text title">Qdrant</text>
  <text x="256" y="186" class="text sub">vector store</text>

  <!-- DB -->
  <rect x="430" y="140" width="180" height="72" class="box" />
  <text x="444" y="166" class="text title">MySQL / SQLite</text>
  <text x="444" y="186" class="text sub">Task &amp; Activity persistence</text>

  <!-- Worker -->
  <rect x="660" y="104" width="120" height="88" class="box" />
  <text x="676" y="132" class="text title">Worker</text>
  <text x="676" y="152" class="text sub">Celery or in-process</text>

  <!-- Prometheus -->
  <rect x="20" y="120" width="150" height="68" class="box" />
  <text x="36" y="148" class="text title">Prometheus</text>
  <text x="36" y="168" class="text sub">scrapes /metrics</text>

  <!-- Arrows -->
  <path class="arrow" d="M194 60 L240 60" />
  <path class="arrow" d="M500 64 L540 64" />
  <path class="arrow" d="M500 74 L660 120" />
  <path class="arrow" d="M320 118 L320 140" />
  <path class="arrow" d="M410 176 L430 176" />
  <path class="arrow" d="M610 160 L660 160" />

  <!-- Legend -->
  <text x="20" y="320" class="text">Deployment diagram — Frontend → MCP → Redis / DB / Qdrant. Workers coordinate via Redis/Celery. Prometheus scrapes MCP.</text>
</svg>
